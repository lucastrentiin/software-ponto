<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Ponto Pessoal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <aside class="sidebar">
        <div class="sidebar-header">
            <button id="sidebar-toggle-btn" class="icon-btn">
                <i class="fa-solid fa-bars"></i>
            </button>
            <span class="sidebar-logo-text">MEU RH</span>
        </div>
        <nav class="sidebar-nav">
            <a href="#" class="nav-link active" data-view="hoje"><i class="fa-solid fa-clock"></i><span>Marcar o Ponto</span></a>
            <a href="#" class="nav-link" data-view="relatorio"><i class="fa-solid fa-file-invoice"></i><span>Espelho de Ponto</span></a>
        </nav>
        <div class="sidebar-footer">
            <button id="theme-toggle-btn" class="icon-btn theme-toggle-btn">
                <i class="fa-solid fa-sun"></i>
            </button>
        </div>
    </aside>

    <main class="main-content">
        <section id="hoje-view" class="view active">
            <div class="page-header">
                <h1 class="page-title">Marcações de Hoje</h1>
            </div>
            <div class="today-summary-cards">
                <div class="summary-card">
                    <span class="card-title">Jornada a Cumprir</span>
                    <span class="card-value" id="summary-jornada">06h 00m</span>
                </div>
                <div class="summary-card">
                    <span class="card-title">Horas Trabalhadas</span>
                    <span class="card-value" id="summary-trabalhadas">00h 00m</span>
                </div>
                <div class="summary-card">
                    <span class="card-title">Horas Extras</span>
                    <span class="card-value positive" id="summary-extras">00h 00m</span>
                </div>
            </div>
            <div class="card-container">
                <div class="add-entry-card">
                    <p class="form-helper-text">Digite o horário ou use o atual e anexe o comprovante (opcional)</p>
                    <div class="input-group">
                        <input type="time" id="time-input" class="time-input-styled">
                        <label for="file-input-main" class="attach-label-main"><i class="fa-solid fa-paperclip"></i></label>
                        <input type="file" id="file-input-main" class="file-input-hidden" accept="image/*,application/pdf">
                    </div>
                    <span id="file-name-display" class="file-name"></span>
                    <button id="add-entry-btn" class="add-button">Adicionar Batida</button>
                </div>
                <div id="today-entries-list" class="entries-list"></div>
            </div>
        </section>

        <section id="relatorio-view" class="view">
             <div class="page-header" style="display:flex;align-items:center;gap:16px;flex-wrap:wrap;">
                <h1 class="page-title" style="margin-right:auto">Espelho de ponto</h1>
                <div style="display:flex;gap:8px;align-items:center">
                    <label style="font-size:13px;color:var(--text-secondary)">Mês</label>
                    <select id="report-month"></select>
                    <label style="font-size:13px;color:var(--text-secondary)">Ano</label>
                    <select id="report-year"></select>
                    <button id="report-refresh" class="button-secondary" style="padding:8px 12px">Atualizar</button>
                </div>
            </div>
            <div class="point-list-container">
                <div class="point-list-header">
                    <div class="col-date">Data</div>
                    <div class="col-entries">Entradas</div>
                    <div class="col-exits">Saídas</div>
                    <div class="col-actions"></div>
                </div>
                <div id="point-list-body" class="point-list-body"></div>
            </div>
        </section>
    </main>

    <input type="file" id="file-input-list" class="file-input-hidden" accept="image/*,application/pdf">

    <div id="edit-time-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Editar Horário</h2>
            <input type="time" id="edit-modal-time-input" class="time-input-modal">
            <div class="modal-actions">
                <button id="edit-modal-cancel-btn" class="button-secondary">Cancelar</button>
                <button id="edit-modal-save-btn" class="add-button">Salvar</button>
            </div>
        </div>
    </div>
    <div id="confirmation-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="confirmation-title">Confirmar Ação</h2>
            <p id="confirmation-message">Você tem certeza?</p>
            <div class="modal-actions">
                <button id="confirmation-cancel-btn" class="button-secondary">Cancelar</button>
                <button id="confirmation-confirm-btn" class="add-button danger">Confirmar</button>
            </div>
        </div>
    </div>

<!-- AUTH: modal simples (apenas para pegar token do backend) -->
<dialog id="auth-dialog" style="border:none;border-radius:12px;padding:0;max-width:420px;width:96%">
    <form id="auth-form" method="dialog" style="padding:16px;background:#161b22;color:#e6e9ef">
      <h3 style="margin:0 0 12px 0">Entrar</h3>
      <label style="display:block;margin:8px 0">
        <span style="font-size:12px;color:#98a2b3">Email</span>
        <input id="auth-email" type="email" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #2b3240;background:#0d1117;color:#e6e9ef">
      </label>
      <label style="display:block;margin:8px 0">
        <span style="font-size:12px;color:#98a2b3">Senha</span>
        <input id="auth-pass" type="password" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #2b3240;background:#0d1117;color:#e6e9ef">
      </label>
      <div style="display:flex;gap:8px;align-items:center;margin-top:8px">
        <button id="auth-login" type="submit" style="padding:10px 12px;border:0;border-radius:8px;background:#1976ff;color:#fff;cursor:pointer">Entrar</button>
        <button id="auth-register" type="button" style="padding:10px 12px;border:1px solid #2b3240;border-radius:8px;background:transparent;color:#e6e9ef;cursor:pointer">Registrar</button>
        <span id="auth-msg" style="color:#98a2b3;margin-left:auto;font-size:12px"></span>
      </div>
    </form>
  </dialog>

    <script src="script.js"></script>
</body>
</html>